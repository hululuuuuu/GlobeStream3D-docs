---
title: 实例方法
---

import Tag from '../../../components/tag.astro'
import Alert from '../../../components/alert.astro'
import '../../../components/commonFunc.astro'

## Chart
```bash
earthFlyLine.init(options)=>Chart
```

### addData
``` javascript
  chart.addData(type,data)
```
---
type: <Tag color="cyan">flyLine</Tag><span style="margin-right:8px;">|</span><Tag  color="cyan">point</Tag><span style="margin-right:8px;">|</span><Tag  color="cyan">road</Tag><span style="margin-right:8px;">|</span><Tag  color="cyan">wall</Tag>
<span style="margin-right:8px;">|</span><Tag  color="cyan">mapStreamLine</Tag>

<br/>
<Tag color="blue">类型: string</Tag>
<Tag color="pink"> 说明: 添加模型类型</Tag>
<br/>
<br/>
<Tag color="red">type=flyLine</Tag>
``` javascript
const flyLineData = [
  {
    from:{
      id:1,
      lon: 112.45, //经度
      lat: 34.62, //维度
      style:scatterStyle //字段解释参考下方链接
      ...userData // 其他自定义字段
    },
    to:{
      id:2,
      lon: 14, //经度
      lat: 52, //维度
      style:scatterStyle //字段解释参考下方链接
      ...userData // 其他自定义字段
    },
    style:{
      pathStyle:pathStyle //config.pathStyle配置一致
      flyLineStyle:flyLineStyle //config.flyLineStyle配置一致
    }
  }
]
chart.addData('flyLine',flyLineData)
```
<Alert color="primary">
scatterStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configscatterstyle"><span style="color:#1890ff;">config.scatterStyle</span></a>

pathStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configpathstyle"><span style="color:#1890ff;">config.pathStyle</span></a>

flyLineStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configflylinestyle"><span style="color:#1890ff;">config.flyLineStyle</span></a>


</Alert>
<br/>
<Tag color="red">type=wall</Tag>
``` javascript
const wallData = {
    data: [[[47.97822265625001,7.9970703125],[46.97822265625001,7.9970703125],[43.98378906250002,9.008837890624989],[43.482519531250006,9.379492187499991],[43.181640625,9.879980468749991],[42.84160156250002,10.203076171874997],[42.65644531250001,10.6],[42.92275390625002,10.999316406249989],[43.24599609375002,11.499804687499989],[43.85273437500001,10.784277343749991],[44.38652343750002,10.430224609374989],[44.94296875,10.43671875],[45.81669921875002,10.835888671874997],[46.565039062500006,10.745996093749994],[47.40498046875001,11.174023437499997],[48.01923828125001,11.139355468749997],[48.57255859375002,11.320507812499997],[48.938574218750006,11.258447265624994],[50.11005859375001,11.529296875],[50.79228515625002,11.983691406249989],[51.2548828125,11.830712890624994],[51.08427734375002,11.335644531249997],[51.140625,10.656884765624994],[51.031835937500006,10.444775390624997],[51.19296875,10.554638671874997],[51.390234375,10.422607421875],[50.93007812500002,10.33554687499999],[50.825,9.428173828124997],[50.10283203125002,8.199804687499991],[49.85205078125,7.962548828124994],[49.234960937500006,6.77734375],[49.04931640625,6.173632812499989],[47.97529296875001,4.497021484374997],[46.87880859375002,3.28564453125],[46.05117187500002,2.475146484374989],[44.92021484375002,1.81015625],[43.71757812500002,0.857861328124997],[41.97988281250002,-0.973046875],[41.53271484375,-1.6953125],[41.521875,-1.572265625],[41.42695312500001,-1.449511718750003],[41.24980468750002,-1.220507812500003],[40.97871093750001,-0.870312500000011],[40.964453125,2.814648437499997],[41.341796875,3.20166015625],[41.61347656250001,3.590478515624994],[41.88398437500001,3.977734375],[41.91533203125002,4.031298828124989],[42.02412109375001,4.137939453125],[42.85664062500001,4.32421875],[43.12568359375001,4.644482421874997],[43.58349609375,4.85498046875],[43.988867187500006,4.950537109374991],[44.940527343750006,4.912011718749994],[47.97822265625001,7.9970703125]]],
    style: {
      opacity: 0.5,
    },
  }
chart.addData('wall',wallData)
```
<Alert color="primary">
请注意 data 的数据结构: [[[lon,lat],[lon,lat],[lon,lat]]] 三维数组，第一维代表多边形，第二维代表多边形的点位，第三维代表点位的经纬度
</Alert>
<br/>

<Tag color="red">type=road</Tag>
``` javascript
const roadData = [
    {
      id: "字符串", //必填
      path: [
        {
          lon: -23.0075,
          lat: 50.4296,
        },
        {
          lon: -26.1223,
          lat: -7.8756,
        },
        {
          lon: -43.0075,
          lat: -40.4296,
        },
        {
          lon: -23.0075,
          lat: 50.4296,
        },
      ],
      style: {
        flyLineStyle: flyLineStyle,
        pathStyle: pathStyle,
      },
    },
  ]
chart.addData('road',roadData)
```
<Alert color="primary">

pathStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configpathstyle"><span style="color:#1890ff;">config.pathStyle</span></a>

flyLineStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configflylinestyle"><span style="color:#1890ff;">config.flyLineStyle</span></a>

</Alert>
<br/>
<Tag color="red">type=point</Tag>
``` javascript
const pointData = [
  {
    id:1,
    lon: 112.45, //经度
    lat: 34.62, //维度
    style:scatterStyle //字段解释参考下方链接
    ...userData // 其他自定义字段
  }
]
chart.addData('point',pointData)
```
<Alert color="primary">
scatterStyle请参考 <a style="color:" href="javascript:void(0);" data-href="/reference/property/#configscatterstyle"><span style="color:#1890ff;">config.scatterStyle</span></a>

</Alert>

<br/>
<Alert color="warning">
该数据里面有from和to两个字段，代表起始点和终点lon和lat 分别代表经度和纬度。最终会生成带有两个涟漪点位的飞线。
id字段：from和to里的id最终会拼接在一起<span style="color:#1890ff;">id=$\{from.id\}-$\{to.id\}</span> ,如果没有传id 则会根据经纬度拼接 拼接逻辑为：
<span style="color:#1890ff;">id =$\{from.lon\}$\{from.lat\}-$\{to.lon\}$\{to.lat\}</span> 此id被用于remove方法
</Alert>
### setData
<Alert color="warning">
和addData参数一致，区别在于setData覆盖已存在的数据。addData 是在原有数据的基础上增量添加
</Alert>
### remove

``` javascript
chart.remove(type,ids)
````
---
type: <Tag color="cyan">flyLine</Tag><span style="margin-right:8px;">|</span><Tag  color="cyan">point</Tag>

ids: <Tag color="cyan">string[]</Tag><span style="margin-right:8px;">|</span><Tag  color="cyan">removeAll</Tag>

<br/>
<Tag color="red">举例</Tag>
<Alert color="warning">
``` javascript
chart.remove('flyLine',['1-2']);
chart.remove('flyLine','removeAll');
```
</Alert>

### destory
``` javascript
//销毁实例
chart.destory()
```
